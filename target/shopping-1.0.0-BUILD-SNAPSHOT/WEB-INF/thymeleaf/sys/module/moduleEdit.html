<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8" />
		<title>修改模块</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<!-- basic styles -->
		<link th:href="@{/resources/bootstrap-3.3.2/css/bootstrap.min.css}" rel="stylesheet" />
		<link th:href="@{/resources/ace/css/chosen.css}" rel="stylesheet" />
		<link th:href="@{/resources/font-awesome/3.2.1/css/font-awesome.min.css}" rel="stylesheet" />
		<link th:href="@{/resources/font-awesome/4.2.0/css/font-awesome.min.css}" rel="stylesheet" />
		<!-- page specific plugin styles -->
		<link th:href="@{/resources/ace/css/ace.min.css}" rel="stylesheet" />
		<link th:href="@{/resources/css/wiwi-jsoil.css}" rel="stylesheet" />
		
		<script th:src="@{/resources/js/jquery-2.0.3.min.js}"></script>
		<script th:src="@{/resources/ace/js/ace-extra.min.js}"></script>

	</head>

	<body>
		<div class="body-container" id="body-container">
			<div class="body-content">
				<div class="page-content">
					<!-- PAGE CONTENT BEGINS -->
					<div class="row">
						<div class="col-xs-12">
							<div class="tabbable">
								<ul th:include="thymeleaf/fragment :: topTab('edit','模块','/sys/module/')" class="nav nav-tabs padding-12 tab-color-blue background-blue" id="myTab" ></ul>
								<div class="tab-content">
									<div class="tab-pane in active">
										<form  action="#" th:action="@{/sys/module/editAction.do}" th:object="${instance}" class="form-horizontal" role="form">
											<input type="hidden"  th:field="${instance.id}"/>
											<div class="form-group">
												<label class="col-sm-3 control-label no-padding-right" for="form-field-1"> 模块名称 </label>
												<div class="col-sm-9">
													<input type="text" th:field="${instance.name}" placeholder="模块名称" class="col-xs-10 col-sm-5" />
												</div>
											</div>

											<div class="form-group">
												<label class="col-sm-3 control-label no-padding-right" > 父模块ID </label>
												<div class="col-sm-9">
													<select id="parentModule" class="width-40 chosen-select" th:field='${instance.parentId}' data-placeholder="请选择上级模块...">
														<option th:each="module:${list}" th:value="${module.id}" th:text="${module.name+'['+module.code+']'}"
														th:attr="data-code=${module.code}">模块名称</option>
													</select>
												</div>
											</div>
			
											<div class="form-group">
												<label class="col-sm-3 control-label no-padding-right" for="form-field-2"> 模块编码 </label>
												<div class="col-sm-9">
													<input id="moduleCode" type="text" th:field="${instance.code}" placeholder="模块编码" class="col-xs-10 col-sm-5" />
												</div>
											</div>
			
											<div class="form-group">
												<label class="col-sm-3 control-label no-padding-right" for="form-field-2"> 模块URL </label>
												<div class="col-sm-9">
													<input type="text" th:field="${instance.forwardUrl}" placeholder="模块URL" class="col-xs-10 col-sm-5" />
												</div>
											</div>
			
			
											<div class="form-group">
												<label class="col-sm-3 control-label no-padding-right" for="form-field-2"> 模块Icon </label>
												<div class="col-sm-9">
													<input type="text" th:field="${instance.icon}" placeholder="模块图标" class="col-xs-10 col-sm-5" />
												</div>
											</div>
			
											<div class="form-group">
												<label class="col-sm-3 control-label no-padding-right" > 模块类型 </label>
												<div class="col-sm-9">
													<select th:field="${instance.moduleType}" class="width-40 chosen-select" >
														<option value="sys" >系统菜单</option>
														<option value="site" >站点菜单</option>
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-3 control-label no-padding-right" for="form-field-2"> 模块描述 </label>
												<div class="col-sm-9">
													<input type="text" th:field="${instance.demo}" placeholder="模块描述" class="col-xs-10 col-sm-5" />
												</div>
											</div>
											
											<div class="clearfix form-actions">
												<div class="col-md-offset-3 col-md-9">
													
													<button class="btn btn-info" type="submit">
														<i class="icon-ok bigger-110"></i>
														提交
													</button>
													<button class="btn" type="reset">
														<i class="icon-undo bigger-110"></i>
														重置
													</button>
													<a th:href="@{/sys/module/list.do}" class="btn btn-prev">
														<i class="icon-arrow-left"></i>
														返回
													</a>
												</div>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div><!-- /.col -->
					</div><!-- /.row -->
				</div><!-- /.page-content -->
			</div><!-- /.main-content -->

			<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
				<i class="icon-double-angle-up icon-only bigger-110"></i>
			</a>
		</div><!-- /.main-container -->

		<!-- basic scripts -->
		<script th:src="@{/resources/bootstrap-3.3.2/js/bootstrap.min.js}"></script>
		<script th:src="@{/resources/ace/js/chosen.jquery.min.js}"></script>
		<script th:inline="javascript">
		/*<![CDATA[*/
		 $(".chosen-select").chosen(); 
		
		 $("#parentModule").on("change", function (){
			 $("#moduleCode").val($(this).find("option:checked").attr("data-code"));
		 });
		 /*]]>*/
		</script>
	</body>
</html>
